---
description: При обновлении блога из VK — сгенерировать осмысленные заголовки для двух самых свежих записей
alwaysApply: true
---

# Обновление блога из VK

Когда пользователь просит обновить блог из VK (запустить `scripts/update_blog.py`):

1. **Запустить обновление**: `python3 scripts/update_blog.py` из корня репозитория.

2. **После успешного завершения** — сгенерировать осмысленные заголовки для **двух самых свежих** записей:
   - Прочитать `site/blog/entries/entry_N.json` для двух максимальных N (по списку непустых записей или по наличию файлов).
   - По тексту и смыслу записи придумать короткий заголовок (2–5 слов), в стиле остальных в `site/blog/entry_titles.json`.
   - Обновить `site/blog/entry_titles.json`: добавить или заменить ключи для этих двух номеров.

3. **Перегенерировать все страницы записей**, чтобы новые заголовки попали в HTML (запуск только с count=2 затирает sitemap):
   - `python3 scripts/render_blog_entry_pages.py 200` из корня репозитория.

4. **Перегенерировать вшитые посты** на странице блога, чтобы ссылки на индивидуальные страницы (дата и т.п.) были актуальными:
   - `python3 scripts/render_blog_initial.py` из корня репозитория.

Итого: update_blog.py → правка заголовков для двух последних в entry_titles.json → render_blog_entry_pages.py 200 → render_blog_initial.py.
