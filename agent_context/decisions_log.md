# Журнал решений

Фиксирую важные решения по проекту, чтобы не терять контекст.

---

## 2025-02

### Сортировка фотографий

- **Целевая структура:** `pictures/<порода>/<медведь>/construction|final`, плюс `trip_reports`.
- **Имена папок для этапов:** не production/finished, а **construction** и **final** — по запросу пользователя; папки уже созданы вручную.
- **Маппинг** источников из original_photos в pictures описан в `pictures/PHOTO_SORTING_MAP.md`.
- Фото оптимизировать для WEB (ресайз при необходимости); original_photos не удалять (архив).
- **Ресайз:** только если исходный файл слишком велик для WEB. Маленькие файлы не трогать. Соотношение сторон не менять (масштабировать пропорционально по длинной стороне до лимита).

### Дубликаты
- Дубликатов не создавать: каждая фотография в единственном экземпляре. Очень похожие снимки тоже выбрасывать (копировать один вариант).
- **Исключение:** папка trip_reports может содержать те же фото, что и в final (снимки с природы/в дороге/в путешествии). Внутри trip_reports — по одному экземпляру каждого снимка.

### Сортировка фотографий выполнена
- Скрипты: scripts/sort_photos.py (копирование + дедуп по хешу), scripts/resize_pictures.py (ресайз при длинной стороне > 1920 px).
- Результат: 721 файл в pictures, 264 дубликата пропущено, 414 ресайзено. Итог по папкам — agent_context/photo_sorting_result.md.

### Контекст для агента

- Создана папка **agent_context/** для хранения ориентиров и сведений, помогающих агенту в следующих сессиях. В неё сохранять обзоры проекта, решения и справочные заметки.
